# 开发

开发 ZBProxy 不需要你阅读每一行代码并理解它们。

相反，对于大多数目的，你甚至不需要修改 ZBProxy。

从 3.1 版开始，ZBProxy 支持注册自定义规则和嗅探器。

现在，你可以添加对新协议、你自己的逻辑规则的支持，而无需修改 ZBProxy 本身。

这使得定制不再令人厌烦，并使将代码库更新到最新版本变得更加容易。

我们有一个关于扩展的示例的官方仓库：https://github.com/layou233/ZBProxy-plugin-examples

## ZBProxy 不是一个程序，而是一个库。

从 3.1 版开始，ZBProxy 已变成一个结构体，可以在任何其他项目中使用。

没有全局变量，全部由 Go 上下文控制，并支持注册扩展。
它符合你的所有想象。

想在你的代码中使用 ZBProxy ？从一行命令开始：

```shell
go get github.com/layou233/zbproxy/v3@dev-next
```

全部完成。然后在代码中使用 `zbproxy.NewInstance`。

查看我们的示例了解更多信息。代码将告诉您所有需要的信息。

## ZBProxy 的主函数在哪里？

主函数已迁移到 ./cmd/zbproxy

由于我们已将大部分逻辑移至项目的其他部分，因此主函数现在少于 60 行代码（包括导入）。

它只是一个简单的包装器，它启动一个 ZBProxy 实例并保持监听进程信号。

您可以将其复制为自定义 ZBProxy 程序的基础。
